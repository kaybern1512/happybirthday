<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D√†nh T·∫∑ng B·∫°n Nh·ªè</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Montserrat:wght@300;400;500;600&family=Great+Vibes&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* T·ªëi ∆∞u rendering cho mobile */

        body {
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
            background: linear-gradient(135deg, #a8daff 0%, #d4f1f9 50%, #e8f8fc 100%);
            min-height: 100vh;
            height: 100vh;
            position: relative;
            transition: background 1.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.dark-mode {
            background: radial-gradient(ellipse at bottom, #0c1821 0%, #040810 100%);
        }

        /* Prevent scrolling on main page */
        body:not(.letter-open) {
            overflow: hidden;
        }

        body.letter-open {
            overflow: hidden;
        }

        /* ========== STARRY SKY ========== */
        .sky-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0;
            transition: opacity 1.5s ease;
            z-index: 1;
        }

        body.dark-mode .sky-container {
            opacity: 1;
        }

        .stars-layer {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }

        /* Gi·∫£m box-shadow ph·ª©c t·∫°p tr√™n mobile */

        .star.small {
            width: 1px;
            height: 1px;
            animation: twinkle 2s infinite ease-in-out;
        }

        .star.medium {
            width: 2px;
            height: 2px;
            animation: twinkle 3s infinite ease-in-out;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.9);
        }

        .star.large {
            width: 3px;
            height: 3px;
            animation: twinkle 4s infinite ease-in-out;
            box-shadow: 0 0 20px rgba(255, 255, 255, 1), 0 0 30px rgba(255, 255, 255, 0.5);
        }

        .star.glow {
            width: 4px;
            height: 4px;
            animation: glowPulse 3s infinite ease-in-out;
            box-shadow: 0 0 30px rgba(255, 255, 255, 1), 0 0 50px rgba(147, 197, 253, 0.8);
        }

        @keyframes twinkle {
            0%, 100% { 
                opacity: 0.3; 
                transform: scale(1); 
            }
            50% { 
                opacity: 1; 
                transform: scale(1.5); 
            }
        }

        @keyframes glowPulse {
            0%, 100% { 
                opacity: 0.6; 
                transform: scale(1);
                box-shadow: 0 0 30px rgba(255, 255, 255, 1), 0 0 50px rgba(147, 197, 253, 0.8);
            }
            50% { 
                opacity: 1; 
                transform: scale(2);
                box-shadow: 0 0 40px rgba(255, 255, 255, 1), 0 0 70px rgba(147, 197, 253, 1), 0 0 100px rgba(147, 197, 253, 0.5);
            }
        }

        /* Shooting stars */
        .shooting-star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
        }

        .shooting-star::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 80px;
            height: 2px;
            background: linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 100%);
            transform: translateX(-80px);
        }

        @keyframes shootingStar {
            0% {
                transform: translate(0, 0) rotate(-45deg);
                opacity: 1;
            }
            100% {
                transform: translate(-300px, 300px) rotate(-45deg);
                opacity: 0;
            }
        }

        /* Constellation lines */
        .constellation {
            position: absolute;
            stroke: rgba(255, 255, 255, 0.3);
            stroke-width: 1;
            fill: none;
            animation: constellationGlow 4s infinite ease-in-out;
        }

        @keyframes constellationGlow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.7; }
        }

        /* Moon */
        .moon {
            position: absolute;
            top: 10%;
            right: 15%;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: #ffd700;
            box-shadow: 0 0 60px rgba(255, 215, 0, 0.8), 
                        0 0 100px rgba(255, 215, 0, 0.4),
                        inset -20px -20px 30px rgba(139, 116, 0, 0.3);
            animation: moonGlow 6s infinite ease-in-out;
        }

        /* Gi·∫£m moon animation tr√™n mobile */

        @keyframes moonGlow {
            0%, 100% { 
                box-shadow: 0 0 60px rgba(255, 215, 0, 0.8), 
                            0 0 100px rgba(255, 215, 0, 0.4),
                            inset -20px -20px 30px rgba(139, 116, 0, 0.3);
            }
            50% { 
                box-shadow: 0 0 80px rgba(255, 215, 0, 1), 
                            0 0 140px rgba(255, 215, 0, 0.6),
                            inset -20px -20px 30px rgba(139, 116, 0, 0.3);
            }
        }

        /* ========== AURORA BOREALIS ========== */
        .aurora-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0;
            transition: opacity 2s ease;
            z-index: 2;
            overflow: hidden;
        }

        body.dark-mode .aurora-container {
            opacity: 1;
        }

        .aurora-wave {
            position: absolute;
            width: 100%;
            height: 400px;
            top: 20%;
            filter: blur(40px);
            opacity: 0.6;
        }

        /* T·ªëi ∆∞u aurora cho mobile */

        /* T·∫Øt ho√†n to√†n aurora tr√™n m√†n h√¨nh nh·ªè */

        .aurora-wave-1 {
            background: linear-gradient(90deg, 
                transparent 0%,
                rgba(0, 255, 150, 0.4) 15%,
                rgba(100, 200, 255, 0.5) 30%,
                rgba(150, 100, 255, 0.4) 45%,
                rgba(255, 100, 200, 0.3) 60%,
                rgba(100, 200, 255, 0.5) 75%,
                transparent 100%
            );
            animation: auroraMove1 15s ease-in-out infinite;
            transform: skewY(-5deg);
        }

        .aurora-wave-2 {
            background: linear-gradient(90deg, 
                transparent 0%,
                rgba(100, 200, 255, 0.3) 20%,
                rgba(150, 255, 200, 0.4) 35%,
                rgba(200, 150, 255, 0.3) 50%,
                rgba(100, 200, 255, 0.4) 65%,
                rgba(150, 255, 200, 0.3) 80%,
                transparent 100%
            );
            animation: auroraMove2 18s ease-in-out infinite;
            top: 15%;
            height: 500px;
            transform: skewY(3deg);
        }

        .aurora-wave-3 {
            background: linear-gradient(90deg, 
                transparent 0%,
                rgba(200, 100, 255, 0.3) 10%,
                rgba(100, 255, 200, 0.4) 25%,
                rgba(100, 150, 255, 0.3) 40%,
                rgba(255, 150, 200, 0.3) 55%,
                rgba(100, 200, 255, 0.4) 70%,
                rgba(150, 255, 200, 0.3) 85%,
                transparent 100%
            );
            animation: auroraMove3 20s ease-in-out infinite;
            top: 25%;
            height: 450px;
            transform: skewY(-2deg);
        }

        @keyframes auroraMove1 {
            0%, 100% { 
                transform: translateX(-10%) skewY(-5deg) scaleY(1);
                opacity: 0.6;
            }
            25% { 
                transform: translateX(5%) skewY(-3deg) scaleY(1.1);
                opacity: 0.7;
            }
            50% { 
                transform: translateX(10%) skewY(-7deg) scaleY(0.9);
                opacity: 0.5;
            }
            75% { 
                transform: translateX(-5%) skewY(-4deg) scaleY(1.05);
                opacity: 0.65;
            }
        }

        @keyframes auroraMove2 {
            0%, 100% { 
                transform: translateX(10%) skewY(3deg) scaleY(1);
                opacity: 0.5;
            }
            33% { 
                transform: translateX(-5%) skewY(5deg) scaleY(1.15);
                opacity: 0.6;
            }
            66% { 
                transform: translateX(8%) skewY(2deg) scaleY(0.95);
                opacity: 0.55;
            }
        }

        @keyframes auroraMove3 {
            0%, 100% { 
                transform: translateX(5%) skewY(-2deg) scaleY(1);
                opacity: 0.55;
            }
            40% { 
                transform: translateX(-8%) skewY(-4deg) scaleY(1.1);
                opacity: 0.65;
            }
            80% { 
                transform: translateX(6%) skewY(-1deg) scaleY(0.9);
                opacity: 0.5;
            }
        }

        /* Aurora reflection at bottom */
        .aurora-reflection {
            position: absolute;
            width: 100%;
            height: 200px;
            bottom: 0;
            background: linear-gradient(0deg, 
                rgba(100, 200, 255, 0.1) 0%,
                transparent 100%
            );
            filter: blur(30px);
            animation: reflectionGlow 8s ease-in-out infinite;
        }

        @keyframes reflectionGlow {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.4; }
        }

        /* ========== AURORA TEXT ========== */
        .aurora-text-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 5;
            opacity: 0;
            transition: opacity 2s ease 0.5s;
            pointer-events: none;
        }

        body.dark-mode .aurora-text-container {
            opacity: 1;
        }

        .aurora-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 4.5em;
            font-weight: 700;
            color: white;
            text-shadow: 
                0 0 20px rgba(100, 200, 255, 0.8),
                0 0 40px rgba(150, 255, 200, 0.6),
                0 5px 30px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
            animation: auroraTextGlow 4s ease-in-out infinite;
            letter-spacing: 4px;
        }

        .aurora-subtitle {
            font-family: 'Great Vibes', cursive;
            font-size: 2.8em;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 
                0 0 15px rgba(150, 255, 200, 0.7),
                0 0 30px rgba(100, 200, 255, 0.5);
            animation: auroraTextFloat 3s ease-in-out infinite;
        }

        @keyframes auroraTextGlow {
            0%, 100% { 
                text-shadow: 
                    0 0 20px rgba(100, 200, 255, 0.8),
                    0 0 40px rgba(150, 255, 200, 0.6),
                    0 5px 30px rgba(0, 0, 0, 0.3);
            }
            50% { 
                text-shadow: 
                    0 0 30px rgba(150, 255, 200, 0.9),
                    0 0 60px rgba(100, 200, 255, 0.7),
                    0 5px 40px rgba(0, 0, 0, 0.4);
            }
        }

        @keyframes auroraTextFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        /* ========== FLOATING LOVE MESSAGES ========== */
        .love-message {
            position: fixed;
            font-family: 'Crimson Text', serif;
            font-size: 1.5em;
            font-style: italic;
            color: white;
            text-shadow: 
                0 0 10px rgba(255, 255, 255, 0.8),
                0 0 20px rgba(100, 200, 255, 0.6);
            opacity: 0;
            pointer-events: none;
            z-index: 4;
            white-space: nowrap;
        }

        @keyframes loveMessageFall {
            0% {
                opacity: 0;
                transform: translateY(-50px) translateX(0) rotate(0deg);
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateY(calc(100vh + 100px)) translateX(var(--drift)) rotate(var(--rotation));
            }
        }

        /* ========== LIGHT SWITCH ========== */
        .light-switch {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .light-switch:hover {
            transform: scale(1.15) rotate(15deg);
            background: rgba(255, 255, 255, 0.25);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
        }

        .light-switch:active {
            transform: scale(1.05);
        }

        /* ========== BALLOONS - DAY MODE ONLY - NO STRINGS ========== */
        .balloons-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            overflow: hidden;
            opacity: 1;
            transition: opacity 1.5s ease;
        }

        body.dark-mode .balloons-background {
            opacity: 0;
            pointer-events: none;
        }

        .floating-balloon {
            position: absolute;
            bottom: -180px;
            filter: drop-shadow(0 15px 25px rgba(0, 0, 0, 0.2));
        }

        .floating-balloon .balloon-body {
            width: 70px;
            height: 90px;
            background: linear-gradient(135deg, var(--balloon-color) 0%, var(--balloon-dark) 100%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            position: relative;
            animation: balloonSway 3s ease-in-out infinite;
            transform-origin: center center;
        }

        .floating-balloon.large .balloon-body {
            width: 90px;
            height: 115px;
        }

        .floating-balloon.small .balloon-body {
            width: 55px;
            height: 70px;
        }

        .floating-balloon .balloon-body::before {
            content: '';
            position: absolute;
            top: 18px;
            left: 18px;
            width: 25px;
            height: 35px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0.2) 100%);
            border-radius: 50%;
            filter: blur(1px);
        }

        .floating-balloon .balloon-body::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 10px solid var(--balloon-dark);
        }

        @keyframes balloonSway {
            0%, 100% { 
                transform: translateX(-12px) rotate(-4deg); 
            }
            25% { 
                transform: translateX(8px) rotate(3deg); 
            }
            50% { 
                transform: translateX(12px) rotate(4deg); 
            }
            75% { 
                transform: translateX(-8px) rotate(-3deg); 
            }
        }

        @keyframes floatUp {
            0% {
                bottom: -180px;
                opacity: 0;
            }
            5% {
                opacity: 1;
            }
            95% {
                opacity: 1;
            }
            100% {
                bottom: calc(100% + 180px);
                opacity: 0;
            }
        }

        /* ========== MAIN CONTENT ========== */
        .main-container {
            position: relative;
            z-index: 3;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 20px;
        }

        /* ========== HEADER - HIDE IN DARK MODE ========== */
        .header-section {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeInDown 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            transition: opacity 1.5s ease, transform 1.5s ease;
        }

        body.dark-mode .header-section {
            opacity: 0;
            transform: translateY(-30px);
            pointer-events: none;
        }

        .main-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 3.5em;
            font-weight: 700;
            color: white;
            text-shadow: 0 5px 30px rgba(0, 0, 0, 0.2),
                         0 0 40px rgba(168, 218, 255, 0.4);
            margin-bottom: 15px;
            letter-spacing: 4px;
            animation: titleGlow 3s ease-in-out infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .title-icon {
            font-size: 0.8em;
            animation: iconBounce 2s ease-in-out infinite;
        }

        @keyframes iconBounce {
            0%, 100% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-10px) scale(1.1); }
        }

        @keyframes titleGlow {
            0%, 100% { text-shadow: 0 5px 30px rgba(0, 0, 0, 0.2), 0 0 40px rgba(168, 218, 255, 0.4); }
            50% { text-shadow: 0 5px 30px rgba(0, 0, 0, 0.2), 0 0 60px rgba(168, 218, 255, 0.6); }
        }

        .subtitle {
            font-family: 'Great Vibes', cursive;
            font-size: 2em;
            color: #fff9c4;
            text-shadow: 0 0 30px rgba(255, 249, 196, 0.6),
                         0 5px 20px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            animation: subtitleFloat 3s ease-in-out infinite;
        }

        @keyframes subtitleFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .girlfriend-name {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.6em;
            font-weight: 600;
            color: #fff;
            background: linear-gradient(45deg, #a8daff, #7ec8f5, #a8daff);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease infinite;
            display: inline-block;
            padding: 10px 30px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 50px;
            backdrop-filter: blur(10px);
            background-color: rgba(255, 255, 255, 0.2);
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* ========== PHOTO GALLERY WITH LETTER - REDESIGNED LAYOUT ========== */
        .gallery-container {
            max-width: 1800px;
            margin: 0 auto;
            position: relative;
            height: 750px;
            transition: opacity 1.5s ease, transform 1.5s ease;
            padding: 0 20px;
        }

        body.dark-mode .gallery-container {
            opacity: 0;
            transform: translateY(-20px);
            pointer-events: none;
        }

        .photo-collage {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .photo-frame {
            position: absolute;
            background: white;
            padding: 12px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.25),
                        0 8px 25px rgba(0, 0, 0, 0.12);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border-radius: 3px;
        }

        /* Top Left Photo - FAR LEFT CORNER */
        .photo-frame:nth-child(1) {
            width: 280px;
            height: 370px;
            left: 200px;
            top: -25%;
            transform: rotate(-8deg);
            z-index: 3;
            animation: fadeInRotate 1s ease 0.2s backwards;
        }

        /* Top Right Photo - FAR RIGHT CORNER */
        .photo-frame:nth-child(2) {
            width: 260px;
            height: 330px;
            right: 220px;
            top: -20%;
            transform: rotate(10deg);
            z-index: 4;
            animation: fadeInRotate 1s ease 0.4s backwards;
        }

        /* Letter in the ABSOLUTE CENTER */
        .letter-container {
            position: absolute;
            width: 400px;
            height: 300px;
            left: 50%;
            top: 40%;
            transform: translate(-50%, -50%);
          
            z-index: 10;
            animation: fadeInRotate 1s ease 0.6s backwards;
            cursor: pointer;
        }

        /* Bottom Right Photo - FAR RIGHT CORNER */
        .photo-frame:nth-child(4) {
            width: 270px;
            height: 310px;
            right: 200px;
            bottom: 0%;
            transform: rotate(-4deg);
            z-index: 4;
            animation: fadeInRotate 1s ease 0.8s backwards;
        }
     /* Bottom Left Photo - FAR LEFT CORNER */
        .photo-frame:nth-child(5) {
            width: 250px;
            height: 300px;
            left: 210px;
            bottom: 0%;
            transform: rotate(5deg);
            z-index: 4;
            animation: fadeInRotate 1s ease 1s backwards;
        }
   

        .photo-frame:hover {
            transform: rotate(0deg) scale(1.08) !important;
            z-index: 999 !important;
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.35),
                        0 12px 35px rgba(0, 0, 0, 0.18);
        }

        .photo-wrapper {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: linear-gradient(135deg, #e8f6fc 0%, #d4f1f9 100%);
        }

        .photo-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
            background: linear-gradient(135deg, rgba(168, 218, 255, 0.15) 0%, rgba(212, 241, 249, 0.15) 100%);
            transition: transform 0.5s ease;
        }

        .photo-frame:hover .photo-placeholder {
            transform: scale(1.1);
        }

        .photo-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .photo-frame:hover .photo-img {
            transform: scale(1.1);
        }

        .photo-caption {
            position: absolute;
            bottom: 12px;
            left: 12px;
            right: 12px;
            font-family: 'Crimson Text', serif;
            font-style: italic;
            color: white;
            font-size: 1.2em;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8),
                         0 0 20px rgba(0, 0, 0, 0.5);
            opacity: 0;
            transition: opacity 0.4s ease;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
            padding: 25px 12px 12px;
            margin: -12px;
            border-radius: 0 0 3px 3px;
        }

        .photo-frame:hover .photo-caption {
            opacity: 1;
        }

        .photo-tape {
            position: absolute;
            top: -10px;
            width: 70px;
            height: 22px;
            background: rgba(255, 255, 255, 0.4);
            border-left: 1px solid rgba(0, 0, 0, 0.1);
            border-right: 1px solid rgba(0, 0, 0, 0.1);
            z-index: 10;
        }

        .photo-tape.left {
            left: 20%;
            transform: rotate(-45deg);
        }

        .photo-tape.right {
            right: 20%;
            transform: rotate(45deg);
        }

        /* ========== ELEGANT ENVELOPE BIRTHDAY CARD ========== */
        .birthday-card {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%);
            box-shadow: 0 30px 90px rgba(0, 0, 0, 0.35),
                        0 15px 50px rgba(0, 0, 0, 0.25),
                        inset 0 1px 0 rgba(255, 255, 255, 1);
            border-radius: 15px;
            position: relative;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 50px 45px;
            overflow: hidden;
            border: 1px solid rgba(168, 218, 255, 0.3);
        }

        /* Envelope flap at top - triangular fold */
        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 120px;
            background: linear-gradient(135deg, #e8f6fc 0%, #d4f1f9 100%);
            clip-path: polygon(0 0, 50% 80%, 100% 0);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15),
                        inset 0 -2px 10px rgba(168, 218, 255, 0.3);
            z-index: 3;
            animation: flapPulse 4s ease-in-out infinite;
        }

        @keyframes flapPulse {
            0%, 100% { 
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15),
                            inset 0 -2px 10px rgba(168, 218, 255, 0.3);
            }
            50% { 
                box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2),
                            inset 0 -2px 15px rgba(168, 218, 255, 0.5);
            }
        }

        /* Envelope flap fold line */
        .envelope-flap::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(168, 218, 255, 0.5), transparent);
        }

        /* Decorative stamp on flap */
       /* Decorative stamp on flap */
.envelope-stamp {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 70px;
    height: 70px;
    background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);  /* ‚Üê M√†u tr·∫Øng */
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5em;
    box-shadow: 0 8px 20px rgba(150, 150, 150, 0.4),  /* ‚Üê ƒê·ªïi shadow m√†u x√°m */
                inset 0 -3px 10px rgba(0, 0, 0, 0.2),
                inset 0 2px 8px rgba(255, 255, 255, 0.3);
    z-index: 4;
    animation: stampBeat 2s ease-in-out infinite;
}

@keyframes stampBeat {
    0%, 100% { transform: translateX(-50%) scale(1); }
    14%, 42% { transform: translateX(-50%) scale(1.1); }
    28%, 56% { transform: translateX(-50%) scale(1); }
}
        /* Rectangle border decoration */
        .envelope-border {
            position: absolute;
            top: 130px;
            left: 30px;
            right: 30px;
            bottom: 30px;
            border: 3px solid rgba(168, 218, 255, 0.3);
            border-radius: 8px;
            z-index: 1;
            animation: borderGlow 3s ease-in-out infinite;
        }

        @keyframes borderGlow {
            0%, 100% { 
                border-color: rgba(168, 218, 255, 0.3);
                box-shadow: 0 0 15px rgba(168, 218, 255, 0.2);
            }
            50% { 
                border-color: rgba(168, 218, 255, 0.5);
                box-shadow: 0 0 25px rgba(168, 218, 255, 0.4);
            }
        }

        /* Inner rectangle decoration */
        .envelope-inner-border {
            position: absolute;
            top: 145px;
            left: 45px;
            right: 45px;
            bottom: 45px;
            border: 1px solid rgba(168, 218, 255, 0.2);
            border-radius: 5px;
            z-index: 1;
        }

        .letter-container:hover .birthday-card {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 40px 110px rgba(0, 0, 0, 0.4),
                        0 20px 60px rgba(0, 0, 0, 0.3),
                        inset 0 1px 0 rgba(255, 255, 255, 1);
        }

        /* Card content */
        .card-content {
            position: relative;
            z-index: 2;
            text-align: center;
            margin-top: 50px;
        }

        /* Beautiful title */
        .card-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 3.2em;
            font-weight: 700;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 50%, #2c3e50 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            letter-spacing: 3px;
            animation: titleShine 3s linear infinite;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        @keyframes titleShine {
            0% { background-position: 0% center; }
            100% { background-position: 200% center; }
        }

        /* Subtitle with cursive font */
        .card-subtitle {
            font-family: 'Great Vibes', cursive;
            font-size: 2.3em;
            color: #7f8c8d;
            margin-bottom: 5px;
            animation: subtitleFloat 3s ease-in-out infinite;
        }

        @keyframes subtitleFloat {
            0%, 100% { 
                transform: translateY(0);
                color: #7f8c8d;
            }
            50% { 
                transform: translateY(-5px);
                color: #5a6c7d;
            }
        }

        /* Decorative hearts */
        .card-hearts {
            font-size: 1.5em;
            margin-bottom: 20px;
            animation: heartsGlow 2s ease-in-out infinite;
        }

        @keyframes heartsGlow {
            0%, 100% { 
                opacity: 0.7;
                transform: scale(1);
            }
            50% { 
                opacity: 1;
                transform: scale(1.1);
            }
        }

        /* Divider line */
        .card-divider {
            width: 150px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #a8daff, transparent);
            margin: 0 auto 0px;
            animation: dividerGlow 2s ease-in-out infinite;
        }

        @keyframes dividerGlow {
            0%, 100% { 
                box-shadow: 0 0 8px rgba(168, 218, 255, 0.4);
            }
            50% { 
                box-shadow: 0 0 18px rgba(168, 218, 255, 0.7);
            }
        }

        /* Message text */
        .card-message {
            font-family: 'Crimson Text', serif;
            font-size: 1.2em;
            color: #5a6c7d;
            font-style: italic;
            margin-bottom: 5px;
            line-height: 1.6;
        }

        /* Click hint */
        .card-hint {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.95em;
            color: #95a5a6;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            animation: hintFloat 2s ease-in-out infinite;
        }

        @keyframes hintFloat {
            0%, 100% { 
                opacity: 0.6; 
                transform: translateY(0); 
            }
            50% { 
                opacity: 1; 
                transform: translateY(-5px); 
            }
        }

        .card-hint-arrow {
            font-size: 1.4em;
            animation: arrowPulse 1.5s ease-in-out infinite;
        }

        @keyframes arrowPulse {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-3px) scale(1.2); }
        }

        /* Corner decorations */
        .card-corner {
            position: absolute;
            width: 50px;
            height: 50px;
            border: 2px solid rgba(168, 218, 255, 0.3);
            z-index: 2;
        }

        .card-corner.top-left {
            top: 135px;
            left: 35px;
            border-right: none;
            border-bottom: none;
            border-radius: 12px 0 0 0;
        }

        .card-corner.top-right {
            top: 135px;
            right: 35px;
            border-left: none;
            border-bottom: none;
            border-radius: 0 12px 0 0;
        }

        .card-corner.bottom-left {
            bottom: 35px;
            left: 35px;
            border-right: none;
            border-top: none;
            border-radius: 0 0 0 12px;
        }

        .card-corner.bottom-right {
            bottom: 35px;
            right: 35px;
            border-left: none;
            border-top: none;
            border-radius: 0 0 12px 0;
        }

        /* Floating sparkles */
        .card-sparkle {
            position: absolute;
            font-size: 1.2em;
            opacity: 0.6;
            animation: sparkleFloat 3s ease-in-out infinite;
        }

        .card-sparkle:nth-child(1) {
            top: 160px;
            left: 50px;
            animation-delay: 0s;
        }

        .card-sparkle:nth-child(2) {
            top: 180px;
            right: 60px;
            animation-delay: 1s;
        }

        .card-sparkle:nth-child(3) {
            bottom: 100px;
            left: 60px;
            animation-delay: 2s;
        }

        .card-sparkle:nth-child(4) {
            bottom: 120px;
            right: 50px;
            animation-delay: 1.5s;
        }

        @keyframes sparkleFloat {
            0%, 100% { 
                opacity: 0.4;
                transform: translateY(0) rotate(0deg) scale(1);
            }
            50% { 
                opacity: 1;
                transform: translateY(-10px) rotate(180deg) scale(1.3);
            }
        }

        /* ========== LETTER MODAL - PREMIUM PAPER DESIGN ========== */
        .letter-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.92);
            animation: fadeIn 0.4s ease;
            backdrop-filter: blur(10px);
            overflow-y: auto;
            padding: 20px;
        }

        .letter-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .letter-content {
            position: relative;
            background-image: 
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 30px,
                    rgba(139, 115, 85, 0.12) 30px,
                    rgba(139, 115, 85, 0.12) 31px
                ),
                linear-gradient(135deg, #fdfbf7 0%, #f7f3eb 100%);
            max-width: 700px;
            width: 100%;
            padding: 60px 50px;
            border-radius: 2px;
            box-shadow: 0 25px 90px rgba(0, 0, 0, 0.55),
                        0 0 0 1px #d4c4a8,
                        inset 0 0 70px rgba(245, 241, 232, 0.4);
            animation: letterOpen 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            background-color: #fdfbf7;
            margin: auto;
        }

        /* Premium paper texture overlay */
        .letter-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 18% 25%, rgba(139, 115, 85, 0.025) 0%, transparent 45%),
                radial-gradient(circle at 82% 68%, rgba(139, 115, 85, 0.025) 0%, transparent 45%),
                radial-gradient(circle at 38% 78%, rgba(139, 115, 85, 0.02) 0%, transparent 38%);
            pointer-events: none;
            border-radius: 2px;
        }

        /* Elegant inner border */
        .letter-content::after {
            content: '';
            position: absolute;
            top: 42px;
            left: 42px;
            right: 42px;
            bottom: 42px;
            border: 1px solid rgba(139, 115, 85, 0.18);
            pointer-events: none;
            border-radius: 2px;
        }

        @keyframes letterOpen {
            0% {
                opacity: 0;
                transform: scale(0.6) translateY(-80px) rotateX(-25deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) translateY(0) rotateX(0deg);
            }
        }

        /* Refined close button */
        .letter-close {
            position: absolute;
            top: 22px;
            right: 22px;
            width: 42px;
            height: 42px;
            background: rgba(93, 78, 55, 0.06);
            border: 2px solid rgba(93, 78, 55, 0.15);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            backdrop-filter: blur(4px);
        }

        .letter-close:hover {
            background: rgba(93, 78, 55, 0.12);
            transform: rotate(90deg) scale(1.08);
            border-color: rgba(93, 78, 55, 0.3);
        }

        .letter-close::before,
        .letter-close::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 2px;
            background: #5d4e37;
            border-radius: 1.5px;
        }

        .letter-close::before {
            transform: rotate(45deg);
        }

        .letter-close::after {
            transform: rotate(-45deg);
        }

        /* Elegant header styling */
        .letter-header {
            font-family: 'Great Vibes', cursive;
            font-size: 3.2em;
            color: #5d4e37;
            text-align: center;
            margin-bottom: 35px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.06);
            position: relative;
            z-index: 1;
        }

        .letter-header::after {
            content: '';
            display: block;
            width: 100px;
            height: 1.5px;
            background: linear-gradient(90deg, transparent, #c9b991, transparent);
            margin: 18px auto 0;
        }

        .letter-date {
            font-family: 'Crimson Text', serif;
            font-size: 1.05em;
            color: #8b7355;
            text-align: right;
            font-style: italic;
            margin-bottom: 32px;
            position: relative;
            z-index: 1;
        }

        .letter-body {
            font-family: 'Crimson Text', serif;
            font-size: 1.25em;
            line-height: 2;
            color: #3e3428;
            text-align: justify;
            margin-bottom: 45px;
            position: relative;
            z-index: 1;
            letter-spacing: 0.2px;
        }

        .letter-body p {
            margin-bottom: 25px;
            text-indent: 35px;
        }

        .letter-body p:first-child::first-letter {
            font-size: 3.2em;
            font-weight: 600;
            float: left;
            line-height: 0.9;
            margin-right: 7px;
            color: #8b6f47;
            font-family: 'Cormorant Garamond', serif;
        }

        .letter-signature {
            font-family: 'Great Vibes', cursive;
            font-size: 2.5em;
            color: #5d4e37;
            text-align: right;
            margin-top: 45px;
            position: relative;
            z-index: 1;
            margin-right: 18px;
        }

        .letter-signature::before {
            content: '';
            display: block;
            width: 130px;
            height: 1px;
            background: #c9b991;
            margin-left: auto;
            margin-bottom: 13px;
        }

        /* Decorative corner stamps */
        .letter-stamp {
            position: absolute;
            width: 55px;
            height: 55px;
            border: 2.5px solid rgba(139, 115, 85, 0.25);
            transform: rotate(45deg);
            z-index: 0;
        }

        .letter-stamp.top-left {
            top: 32px;
            left: 32px;
        }

        .letter-stamp.bottom-right {
            bottom: 32px;
            right: 32px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInRotate {
            from {
                opacity: 0;
                transform: translateY(40px) rotate(0deg) scale(0.85);
            }
            to {
                opacity: 1;
                transform: translateY(0) rotate(var(--rotation)) scale(1);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ========== RESPONSIVE DESIGN ========== */
        @media (max-width: 968px) {
            .main-container {
                padding: 15px;
            }

            .header-section {
                margin-bottom: 30px;
            }

            .gallery-container {
                height: 850px;
                max-width: 100%;
            }

            .photo-frame:nth-child(1) {
                width: 270px;
                height: 280px;
                left: 40%;
                top: 0%;
                transform: rotate(-6deg);
            }

            .photo-frame:nth-child(2) {
                width: 230px;
                height: 270px;
                right: 40%;
                top: 1%;
                transform: rotate(8deg);
            }

            .letter-container {
                width: 300px;
                height: 220px;
                top: 50%;
            }

            .photo-frame:nth-child(4) {
                width: 235px;
                height: 275px;
                right: 40%;
                bottom: 5%;              /* ‚Üê Gi·∫£m t·ª´ 10% xu·ªëng 5% - d·ªãch l√™n */
                transform: rotate(-6deg);
            }

            .photo-frame:nth-child(5) {
                width: 220px;
                height: 260px;
                left: 40%;
                bottom: 10%;             /* ‚Üê Gi·∫£m t·ª´ 20% xu·ªëng 10% - d·ªãch l√™n */
                transform: rotate(7deg);
            }

            .card-heart {
                width: 100px;
                height: 100px;
                font-size: 3.8em;
                margin-bottom: 25px;
            }

            .card-title {
                font-size: 2.4em;
            }

            .card-subtitle {
                font-size: 1.7em;
            }
        }


        }



            .card-heart {
                width: 80px;
                height: 80px;
                font-size: 2.8em;
                margin-bottom: 18px;
            }

            .card-title {
                font-size: 2em;
            }

            .card-subtitle {
                font-size: 1.4em;
            }

            .card-corner {
                width: 35px;
                height: 35px;
            }

            .card-divider {
                width: 100px;
            }
            
            .scroll-ribbon { 
                width: 75px; 
                height: 75px; 
                font-size: 2.6em; 
                margin-bottom: 18px;
            }

            .ribbon-tail {
                width: 12px;
                height: 50px;
                top: 70px;
            }

            .ribbon-tail.left {
                left: 22px;
            }

            .ribbon-tail.right {
                right: 22px;
            }

            .scroll-text {
                font-size: 1.8em;
            }

            .scroll-subtitle {
                font-size: 0.75em;
                letter-spacing: 2px;
            }

            .scroll-corner {
                width: 35px;
                height: 35px;
            }
            
            .letter-modal {
                padding: 15px;
            }

            .letter-content { 
                padding: 42px 28px;
            }
            
            .letter-content::after {
                top: 28px;
                left: 28px;
                right: 28px;
                bottom: 28px;
            }
            
            .letter-header { 
                font-size: 2.3em; 
                margin-bottom: 22px; 
            }
            
            .letter-header::after {
                width: 80px;
                margin-top: 15px;
            }
            
            .letter-date { 
                font-size: 0.95em; 
                margin-bottom: 25px; 
            }
            
            .letter-body { 
                font-size: 1.05em; 
                line-height: 1.85; 
            }
            
            .letter-body p { 
                text-indent: 25px; 
                margin-bottom: 20px; 
            }
            
            .letter-body p:first-child::first-letter { 
                font-size: 2.8em; 
                margin-right: 5px; 
            }
            
            .letter-signature { 
                font-size: 2em; 
                margin-top: 35px; 
                margin-right: 10px; 
            }
            
            .letter-signature::before { 
                width: 100px; 
                margin-bottom: 11px; 
            }
            
            .letter-stamp { 
                width: 42px; 
                height: 42px;
                border-width: 2px;
            }
            
            .letter-stamp.top-left { 
                top: 25px; 
                left: 25px; 
            }
            
            .letter-stamp.bottom-right { 
                bottom: 25px; 
                right: 25px; 
            }

            .letter-close {
                width: 38px;
                height: 38px;
                top: 18px;
                right: 18px;
            }

            .letter-close::before,
            .letter-close::after {
                width: 18px;
            }
        }

    </style>
</head>
<body>
    <!-- Light Switch -->
    <div class="light-switch" onclick="toggleDarkMode()" title="B·∫≠t/T·∫Øt ƒë√®n">
        <span id="lightIcon">üí°</span>
    </div>

    <!-- Sky Container -->
    <div class="sky-container" id="skyContainer">
        <div class="moon"></div>
        <div class="stars-layer" id="starsLayer"></div>
        <svg class="constellation" width="100%" height="100%">
            <defs>
                <filter id="glow">
                    <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                    <feMerge>
                        <feMergeNode in="coloredBlur"/>
                        <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                </filter>
            </defs>
        </svg>
    </div>

    <!-- Aurora Borealis -->
    <div class="aurora-container" id="auroraContainer">
        <div class="aurora-wave aurora-wave-1"></div>
        <div class="aurora-wave aurora-wave-2"></div>
        <div class="aurora-wave aurora-wave-3"></div>
        <div class="aurora-reflection"></div>
    </div>

    <!-- Aurora Text -->
    <div class="aurora-text-container" id="auroraText">
        <div class="aurora-title">Happy Birthday <br> My Aurora</div>
        <div class="aurora-subtitle">You Light Up My World</div>
    </div>

    <!-- Floating Balloons (Day mode only) -->
    <div class="balloons-background" id="balloonsBackground"></div>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Header -->
        <div class="header-section">
            <h1 class="main-title">
                <span class="title-icon">üéÇ</span>
                HAPPY BIRTHDAY
                <span class="title-icon">üéâ</span>
            </h1>
            <p class="subtitle">D√†nh T·∫∑ng C√¥ B√© ƒê√°ng Y√™u</p>
            <div class="girlfriend-name" id="girlfriendName">Nguy·ªÖn Ho√†ng Trang</div>
        </div>

        <!-- Photo Gallery with Letter -->
        <div class="gallery-container">
            <div class="photo-collage" id="photoGallery">
   

      

            </div>
        </div>
    </div>

    <!-- Letter Modal -->
    <div class="letter-modal" id="letterModal">
        <div class="letter-content">
            <div class="letter-stamp top-left"></div>
            <div class="letter-stamp bottom-right"></div>
            <div class="letter-close" onclick="closeLetter()"></div>
            <h2 class="letter-header" id="letterHeader">G·ª≠i B·∫°n Nh·ªè</h2>
            <p class="letter-date" id="letterDate">November 22, 2025</p>
            <div class="letter-body" id="letterBody">
                <!-- Letter content will be inserted here -->
            </div>
            <p class="letter-signature" id="letterSignature">Nh·ªõ em, Anh</p>
        </div>
    </div>

    <script>
        // ========== CONFIGURATION ==========
        const config = {
            girlfriendName: "Nguy·ªÖn Ho√†ng Trang",
            
            letter: {
                header: "G·ª≠i c√¥ b√©",
                date: "November 22, 2025",
                body: `Em √†, h√¥m nay l√† m·ªôt ng√†y th·∫≠t ƒë·∫∑c bi·ªát - ng√†y sinh nh·∫≠t c·ªßa em. Anh mu·ªën g·ª≠i ƒë·∫øn em nh·ªØng l·ªùi ch√∫c t·ªët ƒë·∫πp v√† ch√¢n th√†nh nh·∫•t.

Em lu√¥n l√† m·ªôt ng∆∞·ªùi mang l·∫°i ngu·ªìn nƒÉng l∆∞·ª£ng d·ªÖ th∆∞∆°ng v√† t√≠ch c·ª±c cho m·ªçi ng∆∞·ªùi xung quanh. M·ªói kho·∫£nh kh·∫Øc ƒë∆∞·ª£c tr√≤ chuy·ªán v√† ƒë·ªìng h√†nh c√πng em ƒë·ªÅu khi·∫øn anh c·∫£m th·∫•y tr√¢n tr·ªçng.

Ch√∫c em sinh nh·∫≠t th·∫≠t vui v·∫ª, h·∫°nh ph√∫c v√† lu√¥n gi·ªØ ƒë∆∞·ª£c n·ª• c∆∞·ªùi xinh ƒë·∫πp c·ªßa m√¨nh. Ch√∫c em lu√¥n kh·ªèe m·∫°nh, ƒë·∫°t ƒë∆∞·ª£c nh·ªØng m·ª•c ti√™u m√† em mong mu·ªën v√† g·∫∑p th·∫≠t nhi·ªÅu may m·∫Øn trong h√†nh tr√¨nh s·∫Øp t·ªõi.

D√π con ƒë∆∞·ªùng ph√≠a tr∆∞·ªõc c√≥ th·∫ø n√†o, anh lu√¥n tin r·∫±ng em s·∫Ω l√†m ƒë∆∞·ª£c t·∫•t c·∫£ nh·ªØng ƒëi·ªÅu t·ªët ƒë·∫πp nh·∫•t m√† em x·ª©ng ƒë√°ng c√≥ ƒë∆∞·ª£c.!`,
                signature: "Nh·ªõ em, Anh"
            },
            
            photos: [
                {
                    image: "https://res.cloudinary.com/dky5fqcsj/image/upload/v1763705833/z7247532485575_c8a6cf5a201fe4c48a7bd5772ac06559_gaimwd.jpg",
                    caption: "Kho·∫£nh kh·∫Øc ƒë·∫πp nh·∫•t",
                    emoji: "üì∏"
                },
                {
                    image: "https://res.cloudinary.com/dky5fqcsj/image/upload/v1763705840/z7247532488315_5edfe898c1c1900ddc1ad7087bead586_cthrln.jpg",
                    caption: "N·ª• c∆∞·ªùi c·ªßa em",
                    emoji: "üå∏"
                },
                {
                    image: "https://res.cloudinary.com/dky5fqcsj/image/upload/v1763705846/z7247533272429_900e008ce1624f79d48cdadff5e07fd1_hkiyxq.jpg",
                    caption: "MONALISA VI EN",
                    emoji: "üåπ"
                },
                {
                    image: "https://res.cloudinary.com/dky5fqcsj/image/upload/v1763705856/z7247532501022_aa3dc7674c6f3c8149fe3faad266ea74_utt3ur.jpg",
                    caption: "Thi·∫øu n·ªØ d·ªãu d√†ng",
                    emoji: "üåü"
                }
            ]
        };

        document.getElementById('girlfriendName').textContent = config.girlfriendName;

        // ========== STARRY SKY ==========
        function createStars() {
            const starsLayer = document.getElementById('starsLayer');
            const isMobile = window.innerWidth <= 768;
            const starCounts = isMobile 
                ? { small: 30, medium: 15, large: 10, glow: 5 }  // Mobile: 60 sao
                : { small: 150, medium: 80, large: 40, glow: 20 }; // Desktop: 290 sao

            Object.entries(starCounts).forEach(([type, count]) => {
                for (let i = 0; i < count; i++) {
                    const star = document.createElement('div');
                    star.className = `star ${type}`;
                    star.style.left = Math.random() * 100 + '%';
                    star.style.top = Math.random() * 100 + '%';
                    star.style.animationDelay = Math.random() * 3 + 's';
                    star.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    starsLayer.appendChild(star);
                }
            });
        }

        function createShootingStar() {
            const shootingStar = document.createElement('div');
            shootingStar.className = 'shooting-star';
            shootingStar.style.left = Math.random() * 100 + '%';
            shootingStar.style.top = Math.random() * 50 + '%';
            shootingStar.style.animation = `shootingStar ${Math.random() * 2 + 1}s linear forwards`;
            
            document.getElementById('skyContainer').appendChild(shootingStar);
            setTimeout(() => shootingStar.remove(), 3000);
        }

        function startShootingStars() {
            const isMobile = window.innerWidth <= 768;
            
            // T·∫Øt ho√†n to√†n shooting stars tr√™n mobile
            if (isMobile) return;
            
            const interval = 5000;
            setInterval(() => {
                if (document.body.classList.contains('dark-mode')) {
                    createShootingStar();
                }
            }, interval + Math.random() * interval);
        }

        function createConstellations() {
            const svg = document.querySelector('.constellation');
            const isMobile = window.innerWidth <= 768;
            
            // T·∫Øt ho√†n to√†n constellation tr√™n mobile ƒë·ªÉ tƒÉng hi·ªáu su·∫•t
            if (isMobile) return;
            
            const patterns = [
                [[10, 20], [20, 15], [30, 25], [25, 35]],
                [[70, 30], [75, 20], [85, 25], [80, 35]],
                [[40, 60], [45, 70], [55, 65], [50, 55]],
                [[15, 75], [25, 80], [20, 90]]
            ];

            patterns.forEach(pattern => {
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                const d = pattern.map((point, i) => 
                    `${i === 0 ? 'M' : 'L'} ${point[0]}% ${point[1]}%`
                ).join(' ');
                path.setAttribute('d', d);
                path.setAttribute('filter', 'url(#glow)');
                svg.appendChild(path);

                pattern.forEach(point => {
                    const star = document.createElement('div');
                    star.className = 'star large';
                    star.style.left = point[0] + '%';
                    star.style.top = point[1] + '%';
                    document.getElementById('starsLayer').appendChild(star);
                });
            });
        }

        // ========== BALLOONS - NO STRINGS ==========
        const balloonColors = [
            { color: '#a8daff', dark: '#8fc5e8' },
            { color: '#b8e3ff', dark: '#9fcce5' },
            { color: '#c4e9fc', dark: '#acd4e6' },
            { color: '#d4f1f9', dark: '#bde0ed' },
            { color: '#a0d4f7', dark: '#89bfd9' },
            { color: '#b5dff8', dark: '#9fcae0' },
            { color: '#caeeff', dark: '#b3d9ed' },
            { color: '#dff4fc', dark: '#c8e3f0' }
        ];

        function createFloatingBalloon() {
            const balloon = document.createElement('div');
            balloon.className = 'floating-balloon';
            
            const sizes = ['small', '', 'large'];
            const size = sizes[Math.floor(Math.random() * sizes.length)];
            if (size) balloon.classList.add(size);
            
            const colorSet = balloonColors[Math.floor(Math.random() * balloonColors.length)];
            balloon.style.left = Math.random() * 100 + '%';
            
            const duration = 15 + Math.random() * 10;
            balloon.style.animation = `floatUp ${duration}s linear forwards`;
            
            balloon.innerHTML = `
                <div class="balloon-body" style="--balloon-color: ${colorSet.color}; --balloon-dark: ${colorSet.dark}"></div>
            `;
            
            document.getElementById('balloonsBackground').appendChild(balloon);
            setTimeout(() => balloon.remove(), duration * 1000);
        }

        function startBalloonStream() {
            const isMobile = window.innerWidth <= 768;
            const interval = isMobile ? 3000 : 1500; // Mobile: ch·∫≠m h∆°n 2x
            
            setInterval(() => {
                createFloatingBalloon();
            }, interval + Math.random() * interval);
        }

        // ========== PHOTO GALLERY WITH ENVELOPE BIRTHDAY CARD ==========
        function createPhotoGallery() {
            const gallery = document.getElementById('photoGallery');
            const rotations = ['-8deg', '10deg', '-7deg', '9deg'];
            let photoIndex = 0;

            config.photos.forEach((photo, index) => {
                if (index === 2) {
                    // Create beautiful envelope birthday card in the center
                    const letterDiv = document.createElement('div');
                    letterDiv.className = 'letter-container';
                    letterDiv.onclick = openLetter;
                    letterDiv.innerHTML = `
                        <div class="birthday-card">
                            <div class="envelope-flap"></div>
                            <div class="envelope-stamp">ü™º</div>
                            <div class="envelope-border"></div>
                            <div class="envelope-inner-border"></div>
                            <div class="card-corner top-left"></div>
                            <div class="card-corner top-right"></div>
                            <div class="card-corner bottom-left"></div>
                            <div class="card-corner bottom-right"></div>
                            <div class="card-sparkle">‚ú®</div>
                            <div class="card-sparkle">‚ú®</div>
                            <div class="card-sparkle">‚≠ê</div>
                            <div class="card-sparkle">üí´</div>
                            <div class="card-content">
                                
                                <div class="card-hearts">üéàüéÅüéÇüéÅüéà</div>
                                <div class="card-subtitle">To My Beautiful Girl</div>
                                <div class="card-divider"></div>
                                <div class="card-message">
                                    A special day for a special person
                                </div>
                                <div class="card-hint">
                                    <span class="card-hint-arrow">üéâ</span>
                                    <span>C√≥ ƒëi·ªÅu nh·ªè mu·ªën n√≥i v·ªõi em</span>
                                </div>
                            </div>
                        </div>
                    `;
                    gallery.appendChild(letterDiv);
                }

                const frame = document.createElement('div');
                frame.className = 'photo-frame';
                frame.style.setProperty('--rotation', rotations[photoIndex]);
                
                frame.innerHTML = `
                    <div class="photo-tape left"></div>
                    <div class="photo-tape right"></div>
                    <div class="photo-wrapper">
                        ${photo.image ? 
                            `<img src="${photo.image}" alt="${photo.caption}" class="photo-img">` :
                            `<div class="photo-placeholder">${photo.emoji}</div>`
                        }
                        <p class="photo-caption">${photo.caption}</p>
                    </div>
                `;
                
                gallery.appendChild(frame);
                photoIndex++;
            });
        }

        // ========== LETTER MODAL ==========
        function openLetter() {
            const modal = document.getElementById('letterModal');
            const letterBody = document.getElementById('letterBody');
            
            document.getElementById('letterHeader').textContent = config.letter.header;
            document.getElementById('letterDate').textContent = config.letter.date;
            document.getElementById('letterSignature').textContent = config.letter.signature;
            
            const paragraphs = config.letter.body.trim().split('\n\n');
            letterBody.innerHTML = paragraphs.map(p => `<p>${p.trim()}</p>`).join('');
            
            modal.classList.add('show');
            document.body.classList.add('letter-open');
        }

        function closeLetter() {
            const modal = document.getElementById('letterModal');
            modal.classList.remove('show');
            document.body.classList.remove('letter-open');
        }

        document.getElementById('letterModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeLetter();
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeLetter();
            }
        });

        // ========== DARK MODE ==========
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const icon = document.getElementById('lightIcon');
            const isDarkMode = document.body.classList.contains('dark-mode');
            icon.textContent = isDarkMode ? 'üåô' : 'üí°';
            
            // Start love messages when entering dark mode
            if (isDarkMode) {
                startLoveMessages();
            }
        }

        // ========== FLOATING LOVE MESSAGES ==========
        const loveMessages = [
   { text: "‚ú® Ch√∫c em tu·ªïi m·ªõi nh·∫π nh√†ng nh∆∞ √°nh s√°ng ban mai", icon: "‚ú®" },
{ text: "‚ú® Wishing you a birthday filled with magic and peace", icon: "‚ú®" },
{ text: "‚ú® Em x·ª©ng ƒë√°ng v·ªõi nh·ªØng ƒëi·ªÅu ƒë·∫πp nh·∫•t h√¥m nay", icon: "‚ú®" },
{ text: "‚ú® May your heart always glow with happiness", icon: "‚ú®" },
{ text: "‚ú® Ch√∫c em lu√¥n gi·ªØ ƒë∆∞·ª£c s·ª± tinh khi·∫øt v√† d·ªãu d√†ng", icon: "‚ú®" },
{ text: "‚ú® You make the world softer just by being in it", icon: "‚ú®" },
{ text: "‚ú® Ch√∫c em tu·ªïi m·ªõi r·∫°ng ng·ªùi h∆°n c·∫£ nh·ªØng v√¨ sao", icon: "‚ú®" },
{ text: "‚ú® Hope your day sparkles with joy", icon: "‚ú®" },
{ text: "‚ú® Ch√∫c em lu√¥n ƒë∆∞·ª£c bao b·ªçc b·ªüi y√™u th∆∞∆°ng", icon: "‚ú®" },
{ text: "‚ú® May this year bring you endless blessings", icon: "‚ú®" },

{ text: "üí´ Ch√∫c em lu√¥n b∆∞·ªõc ƒë·∫øn nh·ªØng ƒëi·ªÅu t∆∞∆°i ƒë·∫πp", icon: "üí´" },
{ text: "üí´ May your dreams guide you to happiness", icon: "üí´" },
{ text: "üí´ Ch√∫c em tu·ªïi m·ªõi th·∫≠t nhi·ªÅu kho·∫£nh kh·∫Øc ƒë√°ng nh·ªõ", icon: "üí´" },
{ text: "üí´ You deserve the brightest moments", icon: "üí´" },
{ text: "üí´ Mong em lu√¥n m·ªâm c∆∞·ªùi v√† b√¨nh y√™n", icon: "üí´" },
{ text: "üí´ Wishing you a wonderfully sweet birthday", icon: "üí´" },
{ text: "üí´ Ch√∫c em nh·∫≠n ƒë∆∞·ª£c ƒëi·ªÅu em mong m·ªèi l√¢u nay", icon: "üí´" },
{ text: "üí´ May joy follow you wherever you go", icon: "üí´" },
{ text: "üí´ Ch√∫c em tu·ªïi m·ªõi b·ª´ng n·ªü h·∫°nh ph√∫c", icon: "üí´" },
{ text: "üí´ You‚Äôre brighter than any shooting star", icon: "üí´" },


{ text: "üåü Ch√∫c em lu√¥n to·∫£ s√°ng theo c√°ch ri√™ng c·ªßa m√¨nh", icon: "üåü" },
{ text: "üåü May your birthday shine with warmth and joy", icon: "üåü" },
{ text: "üåü Em l√† ƒëi·ªÅu ƒë·∫∑c bi·ªát m√† th·∫ø gi·ªõi n√†y may m·∫Øn c√≥ ƒë∆∞·ª£c", icon: "üåü" },
{ text: "üåü Wishing you a brilliant and blissful year", icon: "üåü" },
{ text: "üåü Ch√∫c em lu√¥n ƒë∆∞·ª£c y√™u th∆∞∆°ng ƒë√∫ng nghƒ©a", icon: "üåü" },
{ text: "üåü You‚Äôre a star that never fades", icon: "üåü" },
{ text: "üåü Mong em tu·ªïi m·ªõi tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng t√≠ch c·ª±c", icon: "üåü" },
{ text: "üåü Shine in every moment of your life", icon: "üåü" },
{ text: "üåü Ch√∫c em t√¨m th·∫•y b√¨nh y√™n trong t·ª´ng ng√†y", icon: "üåü" },
{ text: "üåü May happiness sparkle around you", icon: "üåü" },


 { text: "‚≠ê Ch√∫c em lu√¥n r·ª±c r·ª° nh∆∞ v√¨ sao ƒë√™m", icon: "‚≠ê" },
{ text: "‚≠ê You deserve a galaxy of happiness", icon: "‚≠ê" },
{ text: "‚≠ê Ch√∫c em m·ªôt sinh nh·∫≠t th·∫≠t d·ªãu d√†ng", icon: "‚≠ê" },
{ text: "‚≠ê May your heart always stay bright", icon: "‚≠ê" },
{ text: "‚≠ê Mong em t√¨m th·∫•y ni·ªÅm vui nh·ªè m·ªói ng√†y", icon: "‚≠ê" },
{ text: "‚≠ê You shine beautifully without trying", icon: "‚≠ê" },
{ text: "‚≠ê Ch√∫c em tu·ªïi m·ªõi th√™m tr∆∞·ªüng th√†nh v√† h·∫°nh ph√∫c", icon: "‚≠ê" },
{ text: "‚≠ê Wishing you endless gentle moments", icon: "‚≠ê" },
{ text: "‚≠ê Ch√∫c em lu√¥n an nhi√™n trong t·ª´ng suy nghƒ©", icon: "‚≠ê" },
{ text: "‚≠ê May love surround you today and always", icon: "‚≠ê" },


{ text: "üíñ Ch√∫c em nh·∫≠n ƒë∆∞·ª£c th·∫≠t nhi·ªÅu y√™u th∆∞∆°ng h√¥m nay", icon: "üíñ" },
{ text: "üíñ You deserve love in every form", icon: "üíñ" },
{ text: "üíñ Em th·∫≠t s·ª± ƒë√°ng qu√Ω theo c√°ch r·∫•t ri√™ng", icon: "üíñ" },
{ text: "üíñ Wishing your heart a warm, happy birthday", icon: "üíñ" },
{ text: "üíñ Ch√∫c em lu√¥n gi·ªØ ƒë∆∞·ª£c tr√°i tim m·ªÅm m·∫°i n√†y", icon: "üíñ" },
{ text: "üíñ You make everything feel gentle", icon: "üíñ" },
{ text: "üíñ Ch√∫c em lu√¥n ƒë∆∞·ª£c y√™u ƒë√∫ng c√°ch, th∆∞∆°ng ƒë√∫ng ng∆∞·ªùi", icon: "üíñ" },
{ text: "üíñ May your heart bloom beautifully this year", icon: "üíñ" },
{ text: "üíñ Ch√∫c em c√≥ ng√†y sinh nh·∫≠t th·∫≠t ·∫•m", icon: "üíñ" },
{ text: "üíñ You deserve all the tenderness in the world", icon: "üíñ" },


{ text: "üåô Ch√∫c em nh·ªØng ƒë√™m th·∫≠t b√¨nh y√™n", icon: "üåô" },
{ text: "üåô May your dreams be filled with sweetness", icon: "üåô" },
{ text: "üåô Ch√∫c em sinh nh·∫≠t nh·∫π nh√†ng v√† √™m d·ªãu", icon: "üåô" },
{ text: "üåô You bring peace wherever you go", icon: "üåô" },
{ text: "üåô Mong em ng·ªß ngon m·ªói ƒë√™m v√† th·ª©c d·∫≠y ƒë·∫ßy nƒÉng l∆∞·ª£ng", icon: "üåô" },
{ text: "üåô Wishing you moments of quiet happiness", icon: "üåô" },
{ text: "üåô Ch√∫c em tu·ªïi m·ªõi th·∫≠t nh·∫π l√≤ng", icon: "üåô" },
{ text: "üåô May the moonlight guide you to joy", icon: "üåô" },
{ text: "üåô Ch√∫c em lu√¥n b√¨nh an gi·ªØa cu·ªôc s·ªëng b·∫≠n r·ªôn", icon: "üåô" },
{ text: "üåô You‚Äôre a calm light in a noisy world", icon: "üåô" },


{ text: "üíù Ch√∫c em c·∫£m nh·∫≠n ƒë∆∞·ª£c t√¨nh y√™u ch√¢n th√†nh h√¥m nay", icon: "üíù" },
{ text: "üíù You deserve a heart full of joy", icon: "üíù" },
{ text: "üíù Ch√∫c em tu·ªïi m·ªõi lu√¥n ƒë∆∞·ª£c y√™u th∆∞∆°ng bao quanh", icon: "üíù" },
{ text: "üíù Sending warm love your way", icon: "üíù" },
{ text: "üíù Mong tr√°i tim em lu√¥n nh·∫π nh√†ng v√† an l√†nh", icon: "üíù" },
{ text: "üíù You carry so much beauty inside", icon: "üíù" },
{ text: "üíù Ch√∫c em lu√¥n tin v√†o gi√° tr·ªã c·ªßa b·∫£n th√¢n", icon: "üíù" },
{ text: "üíù May love follow you everywhere", icon: "üíù" },
{ text: "üíù Ch√∫c em sinh nh·∫≠t ƒë·∫ßy ch√¢n t√¨nh", icon: "üíù" },
{ text: "üíù You‚Äôre a treasure to this world", icon: "üíù" },


{ text: "üéÄ Ch√∫c em lu√¥n gi·ªØ ƒë∆∞·ª£c s·ª± d·ªÖ th∆∞∆°ng t·ª± nhi√™n n√†y", icon: "üéÄ" },
{ text: "üéÄ You‚Äôre cute in the most effortless way", icon: "üéÄ" },
{ text: "üéÄ Ch√∫c em m·ªôt sinh nh·∫≠t m·ªÅm m·∫°i v√† ng·ªçt ng√†o", icon: "üéÄ" },
{ text: "üéÄ May your day be filled with soft smiles", icon: "üéÄ" },
{ text: "üéÄ Em khi·∫øn m·ªçi th·ª© xung quanh tr·ªü n√™n ƒë√°ng y√™u h∆°n", icon: "üéÄ" },
{ text: "üéÄ Wishing you sweetness in every moment", icon: "üéÄ" },
{ text: "üéÄ Ch√∫c em tu·ªïi m·ªõi th·∫≠t nhi·ªÅu ƒëi·ªÅu d·ªÖ th∆∞∆°ng t√¨m ƒë·∫øn", icon: "üéÄ" },
{ text: "üéÄ Stay adorable, stay you", icon: "üéÄ" },
{ text: "üéÄ Ch√∫c em m·ªói ng√†y ƒë·ªÅu vui nh·∫π nh√†ng", icon: "üéÄ" },
{ text: "üéÄ You brighten the room just by being there", icon: "üéÄ" },


{ text: "‚ú® My aurora", icon: "‚ú®" },
    { text: "‚ú® Ch√∫c em c√†ng ng√†y c√†ng xinh ƒë·∫πp", icon: "‚ú®" },
    { text: "‚ú® You‚Äôre my northern light", icon: "‚ú®" },
    { text: "‚ú® Em xinh nh∆∞ c·ª±c quang", icon: "‚ú®" },
    { text: "‚ú® Happy glowing birthday", icon: "‚ú®" },
    { text: "‚ú® Tu·ªïi m·ªõi r·ª±c r·ª° √°nh s√°ng", icon: "‚ú®" },
    { text: "‚ú® You brighten everything", icon: "‚ú®" },

    { text: "üí´ Together forever", icon: "üí´" },
    { text: "üí´ Ch√∫c em sinh nh·∫≠t ƒë√°ng nh·ªõ", icon: "üí´" },
    { text: "üí´ Wishing you endless joy", icon: "üí´" },
    { text: "üí´ Em lu√¥n ƒë·∫∑c bi·ªát v·ªõi anh", icon: "üí´" },
    { text: "üí´ Happy Birthday, lovely girl", icon: "üí´" },
    { text: "üí´ Mong em lu√¥n m·∫°nh m·∫Ω v√† h·∫°nh ph√∫c", icon: "üí´" },
    { text: "üí´ You‚Äôre amazing in every way", icon: "üí´" },

    { text: "üåü Shine bright", icon: "üåü" },
    { text: "üåü Ch√∫c em t·ªèa s√°ng h√¥m nay", icon: "üåü" },
    { text: "üåü Keep glowing, birthday girl", icon: "üåü" },
    { text: "üåü Em r·ª±c r·ª° theo c√°ch ri√™ng", icon: "üåü" },
    { text: "üåü Wishing you golden moments", icon: "üåü" },
    { text: "üåü Ch√∫c em tu·ªïi m·ªõi th·∫≠t h·∫°nh ph√∫c", icon: "üåü" },
    { text: "üåü You brighten my day", icon: "üåü" },

    { text: "‚≠ê My light", icon: "‚≠ê" },
    { text: "‚≠ê Ch√∫c em sinh nh·∫≠t d·ªãu nh·∫π v√† an y√™n", icon: "‚≠ê" },
    { text: "‚≠ê You‚Äôre my calm in chaos", icon: "‚≠ê" },
    { text: "‚≠ê Em l√† √°nh s√°ng nh·ªè c·ªßa anh", icon: "‚≠ê" },
    { text: "‚≠ê Happy peaceful birthday", icon: "‚≠ê" },
    { text: "‚≠ê Mong em th·∫≠t vui h√¥m nay", icon: "‚≠ê" },
    { text: "‚≠ê Wishing you gentle happiness", icon: "‚≠ê" }
];


        let loveMessageInterval;

        function createLoveMessage() {
            if (!document.body.classList.contains('dark-mode')) return;
            
            const message = document.createElement('div');
            message.className = 'love-message';
            
            const randomMsg = loveMessages[Math.floor(Math.random() * loveMessages.length)];
            message.textContent = randomMsg.text;
            
            // Random position from left
            const startX = Math.random() * 90;
            message.style.left = startX + '%';
            message.style.top = '-50px';
            
            // Random drift and rotation
            const drift = (Math.random() - 0.5) * 200; // -100 to 100px
            const rotation = (Math.random() - 0.5) * 50; // -15 to 15deg
            message.style.setProperty('--drift', drift + 'px');
            message.style.setProperty('--rotation', rotation + 'deg');
            
            // Random duration
            const duration = 8 + Math.random() * 4; // 8-12 seconds
            message.style.animation = `loveMessageFall ${duration}s linear forwards`;
            
            document.body.appendChild(message);
            
            setTimeout(() => message.remove(), duration * 1000);
        }

        function startLoveMessages() {
            // Clear any existing interval
            if (loveMessageInterval) {
                clearInterval(loveMessageInterval);
            }
            
            const isMobile = window.innerWidth <= 768;
            
            // Create initial messages - √≠t h∆°n tr√™n mobile
            for (let i = 0; i < (isMobile ? 1 : 3); i++) {
                setTimeout(() => createLoveMessage(), i * 2000);
            }
            
            // Create new messages periodically
            loveMessageInterval = setInterval(() => {
                if (document.body.classList.contains('dark-mode')) {
                    createLoveMessage();
                } else {
                    clearInterval(loveMessageInterval);
                }
            }, isMobile ? 3500 : 1500); // Mobile: 3.5 gi√¢y/l·∫ßn
        }

        // ========== INITIALIZATION ==========
        window.addEventListener('load', () => {
            createStars();
            createConstellations();
            startShootingStars();
            startBalloonStream();
            createPhotoGallery();
            
            // Gi·∫£m s·ªë bong b√≥ng ban ƒë·∫ßu tr√™n mobile
            const isMobile = window.innerWidth <= 768;
            const initialBalloons = isMobile ? 2 : 5;
            
            for (let i = 0; i < initialBalloons; i++) {
                setTimeout(() => createFloatingBalloon(), i * 500);
            }
        });
    </script>
</body>
</html>
